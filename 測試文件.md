我先集中回答你現在的核心需求：如何用 canAnalyser3Mini 針對目前這顆 Node (Node ID = 10 / 0x0A) 做系統化測試，包含：基本連線確認、NMT / Heartbeat、SDO 讀寫、PDO 收/發、動態 COB‑ID/Disable 測試、RX 綁定/提升機制驗證（特別是 0x20A/0x30A/0x40A 這些你之前關心過的）、Wildcard / 維護 / 搶占觀察。以下是完整、可直接照做的步驟與對照表。

--------------------------------
測試總覽 (建議順序)
1. 環境與通訊層確認 (Bitrate、錯誤計數必須為 0)
2. 基礎生命跡訊號：Heartbeat、NMT
3. 高優先級接收：SYNC、EMCY (可選)
4. SDO 讀寫基本測試 (讀 0x1017、寫 0x1017 或 PDO COB-ID)
5. PDO 接收 (RPDO) 測試：0x20A / 0x30A / 0x40A / 0x50A
6. PDO 傳送 (TPDO) 測試：0x18A / 0x28A / 0x38A / 0x48A
7. 動態 COB-ID Disable/Enable 測試 (TPDO1 0x1800:1 / RPDO1 0x1400:1)
8. 綁定/提升與維護機制驗證（看日誌 [RX-BIND] / [RX-PRIO-DEFER] / [RX-PREEMPT]）
9. Wildcard 行為觀察 (是否有 [RX-BIND] 對非高優 ID；或全部靠 wildcard + 軟體過濾)
10. 例外/防護測試 (發送非法 ID、全零資料、過濾是否生效)

Node ID = 10 (0x0A) 之標準 CANopen COB-ID 對照
ID 計算規則：Base + NodeID  
NMT 指令 (Master→Node)     0x000 (broadcast)  
SYNC (Master→All)           0x080  
EMCY (Node→Master)          0x080 + 0x0A = 0x08A (你的系統可能會發，也可忽略)  
TPDO1..4 (Node→外部)       0x180/0x280/0x380/0x480 + 0x0A = 0x18A / 0x28A / 0x38A / 0x48A  
RPDO1..4 (外部→Node)       0x200/0x300/0x400/0x500 + 0x0A = 0x20A / 0x30A / 0x40A / 0x50A  
SDO Server RX (Host→Node)   0x600 + 0x0A = 0x60A (你要發送 SDO 指令用這個)  
SDO Server TX (Node→Host)   0x580 + 0x0A = 0x58A (你應該會收到的 SDO 回應)  
Heartbeat (Node→All)        0x700 + 0x0A = 0x70A  
LSS (可選)                  0x7E5 (Master→Slave), 0x7E4 (Slave→Master)

--------------------------------
1. canAnalyser3Mini 基本設定
Bit rate: 500 kbit/s (和日誌一致)  
Mode: Normal (不要 Loopback)  
接收視窗加欄位：ID、DLC、Data Bytes、Count、Time Stamp  
打開 Error Counter 視窗：RX Error / TX Error 必須維持 0  
(可選) 啟用硬體或軟體 Filter：先關閉以看到全部，再逐步加入

--------------------------------
2. Heartbeat 與 NMT 測試
目的：確認節點上線、NMT 狀態機。  
預期：每 1000 ms 出現 ID=0x70A 的 1 byte 資料：狀態值 (通常 0x05 Operational 或 0x7F Pre-Operational)。

(1) 上電後 2~3 秒內應看到：
ID 0x70A, DLC=1, Data=05 (或 7F -> 05)  
若完全沒有 → 檢查：程式中 Heartbeat 參數、主迴圈是否在跑。

(2) 發送 NMT Operational 指令：
Frame: ID=0x000, DLC=2, Data=01 0A  
01 = Start Remote Node, 0A = NodeID  
你可以先發 0x80 0A (Enter Pre-Operational) 再 0x01 0A，看心跳值變化 (0x7F → 0x05)。

(3) 發送 NMT Reset Node：
Frame: ID=0x000, Data=81 0A  
觀察日誌是否重新跑初始化 Step 1/2/3。

--------------------------------
3. SYNC 與 EMCY (可選)
SYNC:
Frame: ID=0x080, DLC=0，每 100 ms 發送幾個。  
看裝置是否有任何日誌 (有些程式碼可能尚未掛 SYNC callback，純忽略是正常)。  
EMCY 測試 (如果你要模擬外部裝置發出急停給你)：
Frame: ID=0x08A, DLC=8, Data 任意 (標準格式：低兩位故障碼, 後面 5 個 MFG, 最後 1 裝置狀態)。  
若你的節點不處理外部 EMCY，可能什麼都不會顯示。

--------------------------------
4. SDO 讀寫基本測試
讀取 0x1017 (Heartbeat Producer Time)：
送出 (Host→Node, ID=0x60A)：  
CS=0x40 (Upload Initiate)  
Index=0x1017 (小端序：17 10)  
Subindex=0x00  
填零 4 bytes  
Frame: ID=0x60A, DLC=8, Data = 40 17 10 00 00 00 00 00  
預期回覆 (Node→Host, ID=0x58A)：  
格式：4x 回傳資料，若 16-bit 值假設= 0x03E8 (1000ms) → 小端  E8 03  
Response Data 例： 43 17 10 00 E8 03 00 00  
(43 = 0100 0011 表示 expedited + size=2)

寫入 0x1017 (若你想改 500ms)：  
Expedited 2-byte Download: 指令 0x2B  
Frame: ID=0x60A, Data = 2B 17 10 00 F4 01 00 00  (0x01F4 = 500 decimal)  
預期回覆： 60 17 10 00 00 00 00 00 (60 = Download response)

讀回確認同上，應變成 F4 01 (0x01F4)。

--------------------------------
5. RPDO (接收 PDO) 驗證：0x20A / 0x30A / 0x40A / 0x50A
目的：確定多 RX 綁定 / wildcard / 維護 / 搶占機制在這些 ID 上有中斷與回調。

步驟：
(1) 先發單筆：
ID=0x20A, Data= 01 02 03 04 05 06 07 08 (DLC=8)  
看 UART 是否有顯示對應處理 (若尚未綁定，可能第一次走 [RX-WILDCARD] 或軟體過濾)。  
(2) 持續以 20~50ms 週期連發 0x20A (啟動 canAnalyser3Mini 的 Auto Transmit 功能)。  
(3) 觀察是否出現日誌：  
   - [RX-BIND] LMO_xx <= ID=0x20A (代表維護或搶占成功)  
   - 或 [RX-PRIO-DEFER] 之後 10ms~數百 ms 內被綁定。  
(4) 重複對 0x30A、0x40A。  
(5) 若其中某些一直沒被硬體綁定，檢查程式內是否限制了可綁定數 / wildcard 是否搶先吃光 (可能要在 driver 關閉 wildcard 再測，若你懷疑它阻擋提升)。

觀察重點：
- 是否有 [RX-PREEMPT] log（新 ID 高分搶占低分）。  
- 如果 0x20A/0x30A/0x40A 全部默認低分 (score=0)，而高分 (NMT/SYNC/EMCY/SDO RX) 已占據硬體，那它們可能永遠停留軟體過濾，屬正常；要測 preemption 就刻意塞很多低價值任意 ID (非高分) 佔滿，再讓你人為提高某個目標 ID score（這需要 driver 端改score規則或模擬）。

--------------------------------
6. TPDO (節點傳出 PDO) 觀察：0x18A / 0x28A / 0x38A / 0x48A
依你的應用：  
- 若目前程式碼沒有定期觸發 TPDO，需在應用層呼叫對應的 CO_PDO_process 或修改映射後觸發。  
- canAnalyser3Mini 側只需接收觀察。  
若暫時沒有 TPDO，自行觸發方法（參考 CANopenNode）：  
在 1ms 主循環後加條件呼叫 CO_TPDOsend() (視版本 API)。  
或透過改同步事件 (發 SYNC 0x080) 觸發同步 TPDO。

--------------------------------
7. 動態 COB-ID 測試 (重點：applyCobIdChanges + promote)
以 TPDO1 (0x1800:01) 為例：

(A) Disable TPDO1  
寫入 0x1800:01 = 0x8000018A (bit31=1 + 原 COB-ID 0x018A)  
Expedited 4-byte Download：  
CS=0x23, Index=0x1800 (00 18), Sub=01  
Value (Little Endian) = 8A 01 00 80  
Frame: ID=0x60A, Data= 23 00 18 01 8A 01 00 80  
預期回覆： 60 00 18 01 00 00 00 00  
日誌預期：  
[VERB] scheduleCobIdDisable old=0x18A ...  
接著 1ms 內：  
[VERB] RX-REL / (若是 RX; 對 TPDO 為 TX) 及不再發出 0x18A

(B) 改成新 ID (例：0x028A) 開啟  
寫入 0x1800:01 = 0x028A (bit31=0)  
Bytes (Little Endian) = 8A 02 00 00  
Frame: 23 00 18 01 8A 02 00 00  
預期：1~2ms 內 TX 之後改用新 ID (0x28A) 傳出 (若有觸發)；日誌顯示 apply 變更。

同理 RPDO1 (0x1400:01) 可發出 disable/enable 來觀察 RX 綁定釋放與 [promote] 是否為別的待提升 ID 騰出硬體。

--------------------------------
8. Wildcard 驗證
方法一：在裝置啟動後立即大量送出一堆「還沒在程式中顯式註冊的 ID」（如 0x305、0x406、0x5AA），觀察是否：  
- 一開始沒有對應 [RX-BIND]  
- 仍然有回調被執行（表示 wildcard + 軟體過濾在工作）  
- 維護週期後是否開始出現 [RX-BIND]（若 driver 有邏輯升級部分 ID）  

方法二：關閉 wildcard（若你稍後在 driver 增 #define CO_XMC_WILDCARD_ENABLE 0），再次做同樣測試，確認 CPU 日誌次數差異 → 評估 wildcard 效益。

--------------------------------
9. 例外與過濾測試
Ghost / 無效資料：  
發送 ID=0x000, DLC=8, Data 全 0 → 預期：被標記忽略 (日誌可顯示 ghost counter)。  
發送 ID=0x123, DLC=8, Data 全 0 → 預期：被視為 ghost (依你程式邏輯)。  
發送 ID= >0x7FF（canAnalyser3Mini 若允許手動輸入 29-bit 無法在 11-bit 模式中送出，保持 11-bit 即可）  
高頻垃圾流量：用 AutoTransmit 1ms/5ms 速率送不屬於該 Node 的隨機 IDs (ex: 0x511, 0x377...)，觀察 CPU 是否有明顯負載變化 / 過濾統計。

--------------------------------
10. 驗證結果判定指標
| 項目 | 成功條件 | 問題徵兆 | 追查方向 |
|------|----------|----------|----------|
| Heartbeat | 週期性 0x70A | 無 | 主迴圈卡死 / Heartbeat 參數 |
| NMT | 能切 Pre-Op/Operational | 不響應 | NMT 狀態機未執行 |
| SDO 讀 | 0x60A→0x58A 有回覆 | 無回覆 | 綁定 0x60A 失敗 / SDO server 未啟動 |
| SDO 寫 | 回覆 60 xx xx xx | Abort 80 ... | 寫值非法 / 物件不存在 |
| RPDO 接收 | 日誌或回調顯示 | 全無 | 沒綁定且 wildcard 失效 |
| TPDO 發送 | canAnalyser 收到 ID | 無 | 沒觸發條件 / 周期未啟用 |
| COB-ID 變更 | 變更後 ID 生效 | 舊 ID 繼續出現 | applyCobId 未被呼叫 |
| Promote | 出現 [RX-PREEMPT] | 只 fallback | score 判斷/維護未跑 |
| Wildcard | 未綁新ID仍能處理 | 掉包 | Wildcard mask 失效 |

--------------------------------
傳送範例整理 (全部 11-bit ID, DLC 8 除非特別註明)

1) NMT Start Node 10:  
ID=000  Data=01 0A 00 00 00 00 00 00

2) NMT Pre-Op:  
ID=000  Data=80 0A 00 00 00 00 00 00

3) Heartbeat (你只接收觀察，不需發)

4) SDO 讀 0x1017:  
ID=60A  Data=40 17 10 00 00 00 00 00

5) SDO 寫 0x1017=500ms:  
ID=60A  Data=2B 17 10 00 F4 01 00 00

6) Disable TPDO1 (0x1800:1):  
ID=60A  Data=23 00 18 01 8A 01 00 80

7) Re-enable TPDO1 with new ID=0x028A:  
ID=60A  Data=23 00 18 01 8A 02 00 00

8) RPDO1 測試資料 (0x20A):  
ID=20A  Data=01 02 03 04 05 06 07 08

9) Ghost 測試 (全零):  
ID=000  Data=00 00 00 00 00 00 00 00

10) 隨機低價值負載 (測試 preempt)：  
ID=233  Data=11 22 33 44 55 66 77 88

--------------------------------
日誌對應對照快速指南
| 日誌 | 代表 | 你該驗證 |
|------|------|---------|
| [RX-BIND] LMO_xx <= ID=0x??? | 硬體綁定成功 | ID 是否為高優先或延遲綁定成功 |
| [RX-PRIO-DEFER] | 高分 ID 暫未綁定 | 維護 / 釋放後是否被提升 |
| [RX-PREEMPT] | 搶占發生 | 被搶占的是低分 ID |
| [RX-SKIP0] | 第二個 0x000 | 正確限制 NMT 單綁 |
| [RX-WILDCARD] | Wildcard 啟用 | 確認實際是否接到 “未綁 ID” 的訊息 |
| [RX-REL] | 綁定釋放 | 是否隨後有 promote |
| [HB] Heartbeat #n | 心跳計數 | 週期是否穩定 |

--------------------------------
常見問題快速排除
1. 發 SDO 沒回覆：確認 ID=0x60A、DLC=8、Bitrate 正確；檢查程式是否有跑主循環 (心跳是否存在)  
2. RPDO 0x20A 沒反應：看有無 wildcard；加大送信頻率；等 10~50ms 看是否出現 [RX-BIND]  
3. Disable TPDO 後仍看到舊 ID：applyCobId 可能未執行（檢查 1ms Timer 是否驅動 `CO_process` / driver apply 函式）  
4. 綁定遲遲不提升：score=0 不會搶占；除非你釋放一個已綁 ID 或改程式讓它變高分。  
5. Wildcard 測試不到：可能 mask=0 未生效，嘗試在程式關閉 wildcard 改觀察差異，判斷是否硬體限制。

--------------------------------
建議後續可以加的自動化 (可日後再做)：
- 建一個 Python can 庫 (python-can + canopen) 腳本，自動執行上述序列並解析 UART 日誌。
- 在 driver 加一組統計 API：輸出每個 ID 的 hit 次數 / 是否硬體快路徑。

--------------------------------
如果你要我：
A. 幫你做一份 Python 測試腳本 (python-can)  
B. 幫你加入 driver 端簡單統計 (wildcard hit / sw fallback 計數)  
C. 再補一份「最小測試清單 PDF 版」  
D. 檢查某個測試失敗的具體原因 (貼出該測試實際收發與日誌)  

直接回覆 A/B/C/D 或描述具體問題，我再接著處理。 

先照這份流程在 canAnalyser3Mini 做，任何一個步驟異常你貼回我看。 祝測試順利。
